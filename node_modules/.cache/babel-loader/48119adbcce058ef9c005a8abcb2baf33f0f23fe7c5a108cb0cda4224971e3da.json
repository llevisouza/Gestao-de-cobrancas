{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LEVI\\\\Desktop\\\\Gestao-de-cobrancas\\\\src\\\\components\\\\reports\\\\ReportsPage.js\",\n  _s = $RefreshSig$();\n// src/components/reports/ReportsPage.js\nimport React, { useState } from 'react';\nimport DateFilter from './DateFilter';\nimport ReportTable from './ReportTable';\nimport { getStartOfMonth, formatDateToYYYYMMDD } from '../../utils/dateUtils';\nimport { MESSAGES } from '../../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReportsPage = ({\n  invoices\n}) => {\n  _s();\n  const [startDate, setStartDate] = useState(formatDateToYYYYMMDD(getStartOfMonth()));\n  const [endDate, setEndDate] = useState(formatDateToYYYYMMDD(new Date()));\n  const [filteredData, setFilteredData] = useState([]);\n  const [wasGenerated, setWasGenerated] = useState(false);\n  const handleGenerateReport = () => {\n    if (!startDate || !endDate) {\n      alert(MESSAGES.ERROR.REPORT_DATE_REQUIRED);\n      return;\n    }\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    // Adiciona 1 dia ao fim para incluir o dia inteiro na busca\n    end.setDate(end.getDate() + 1);\n    const filtered = invoices.filter(invoice => {\n      const generationDate = new Date(invoice.generationDate);\n      return generationDate >= start && generationDate < end;\n    });\n    setFilteredData(filtered);\n    setWasGenerated(true);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold text-gray-800 mb-6\",\n      children: \"Relat\\xF3rio de Faturas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DateFilter, {\n      startDate: startDate,\n      setStartDate: setStartDate,\n      endDate: endDate,\n      setEndDate: setEndDate,\n      onGenerate: handleGenerateReport\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), wasGenerated && /*#__PURE__*/_jsxDEV(ReportTable, {\n      data: filteredData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n_s(ReportsPage, \"isB2IAVvPHywH8CUGrF5Wfw1xXQ=\");\n_c = ReportsPage;\nexport default ReportsPage;\nvar _c;\n$RefreshReg$(_c, \"ReportsPage\");","map":{"version":3,"names":["React","useState","DateFilter","ReportTable","getStartOfMonth","formatDateToYYYYMMDD","MESSAGES","jsxDEV","_jsxDEV","ReportsPage","invoices","_s","startDate","setStartDate","endDate","setEndDate","Date","filteredData","setFilteredData","wasGenerated","setWasGenerated","handleGenerateReport","alert","ERROR","REPORT_DATE_REQUIRED","start","end","setDate","getDate","filtered","filter","invoice","generationDate","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onGenerate","data","_c","$RefreshReg$"],"sources":["C:/Users/LEVI/Desktop/Gestao-de-cobrancas/src/components/reports/ReportsPage.js"],"sourcesContent":["// src/components/reports/ReportsPage.js\r\nimport React, { useState } from 'react';\r\nimport DateFilter from './DateFilter';\r\nimport ReportTable from './ReportTable';\r\nimport { getStartOfMonth, formatDateToYYYYMMDD } from '../../utils/dateUtils';\r\nimport { MESSAGES } from '../../utils/constants';\r\n\r\nconst ReportsPage = ({ invoices }) => {\r\n  const [startDate, setStartDate] = useState(formatDateToYYYYMMDD(getStartOfMonth()));\r\n  const [endDate, setEndDate] = useState(formatDateToYYYYMMDD(new Date()));\r\n  const [filteredData, setFilteredData] = useState([]);\r\n  const [wasGenerated, setWasGenerated] = useState(false);\r\n\r\n  const handleGenerateReport = () => {\r\n    if (!startDate || !endDate) {\r\n      alert(MESSAGES.ERROR.REPORT_DATE_REQUIRED);\r\n      return;\r\n    }\r\n\r\n    const start = new Date(startDate);\r\n    const end = new Date(endDate);\r\n    // Adiciona 1 dia ao fim para incluir o dia inteiro na busca\r\n    end.setDate(end.getDate() + 1);\r\n\r\n    const filtered = invoices.filter(invoice => {\r\n      const generationDate = new Date(invoice.generationDate);\r\n      return generationDate >= start && generationDate < end;\r\n    });\r\n\r\n    setFilteredData(filtered);\r\n    setWasGenerated(true);\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <h1 className=\"text-2xl font-bold text-gray-800 mb-6\">Relat√≥rio de Faturas</h1>\r\n      <DateFilter\r\n        startDate={startDate}\r\n        setStartDate={setStartDate}\r\n        endDate={endDate}\r\n        setEndDate={setEndDate}\r\n        onGenerate={handleGenerateReport}\r\n      />\r\n      {wasGenerated && <ReportTable data={filteredData} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportsPage;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,WAAW,MAAM,eAAe;AACvC,SAASC,eAAe,EAAEC,oBAAoB,QAAQ,uBAAuB;AAC7E,SAASC,QAAQ,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACpC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAACI,oBAAoB,CAACD,eAAe,CAAC,CAAC,CAAC,CAAC;EACnF,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAACI,oBAAoB,CAAC,IAAIW,IAAI,CAAC,CAAC,CAAC,CAAC;EACxE,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACkB,YAAY,EAAEC,eAAe,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EAEvD,MAAMoB,oBAAoB,GAAGA,CAAA,KAAM;IACjC,IAAI,CAACT,SAAS,IAAI,CAACE,OAAO,EAAE;MAC1BQ,KAAK,CAAChB,QAAQ,CAACiB,KAAK,CAACC,oBAAoB,CAAC;MAC1C;IACF;IAEA,MAAMC,KAAK,GAAG,IAAIT,IAAI,CAACJ,SAAS,CAAC;IACjC,MAAMc,GAAG,GAAG,IAAIV,IAAI,CAACF,OAAO,CAAC;IAC7B;IACAY,GAAG,CAACC,OAAO,CAACD,GAAG,CAACE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;IAE9B,MAAMC,QAAQ,GAAGnB,QAAQ,CAACoB,MAAM,CAACC,OAAO,IAAI;MAC1C,MAAMC,cAAc,GAAG,IAAIhB,IAAI,CAACe,OAAO,CAACC,cAAc,CAAC;MACvD,OAAOA,cAAc,IAAIP,KAAK,IAAIO,cAAc,GAAGN,GAAG;IACxD,CAAC,CAAC;IAEFR,eAAe,CAACW,QAAQ,CAAC;IACzBT,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;EAED,oBACEZ,OAAA;IAAAyB,QAAA,gBACEzB,OAAA;MAAI0B,SAAS,EAAC,uCAAuC;MAAAD,QAAA,EAAC;IAAoB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC/E9B,OAAA,CAACN,UAAU;MACTU,SAAS,EAAEA,SAAU;MACrBC,YAAY,EAAEA,YAAa;MAC3BC,OAAO,EAAEA,OAAQ;MACjBC,UAAU,EAAEA,UAAW;MACvBwB,UAAU,EAAElB;IAAqB;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CAAC,EACDnB,YAAY,iBAAIX,OAAA,CAACL,WAAW;MAACqC,IAAI,EAAEvB;IAAa;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACjD,CAAC;AAEV,CAAC;AAAC3B,EAAA,CAvCIF,WAAW;AAAAgC,EAAA,GAAXhC,WAAW;AAyCjB,eAAeA,WAAW;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}