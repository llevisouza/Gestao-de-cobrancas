{"ast":null,"code":"import _objectSpread from\"C:/Users/LEVI/Desktop/Gestao de cobrancas/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/components/clients/SubscriptionModal.js\nimport React,{useState,useEffect}from'react';import Modal from'../common/Modal';import{DAYS_OF_WEEK_LABELS,SUBSCRIPTION_STATUS}from'../../utils/constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SubscriptionModal=_ref=>{let{isOpen,onClose,onSave,subscription,client}=_ref;const[formData,setFormData]=useState({amount:'',dayOfWeek:'monday',startDate:'',status:'active'});useEffect(()=>{if(subscription){setFormData({amount:subscription.amount||'',dayOfWeek:subscription.dayOfWeek||'monday',startDate:subscription.startDate||'',status:subscription.status||'active'});}else{setFormData({amount:'',dayOfWeek:'monday',startDate:'',status:'active'});}},[subscription,isOpen]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=e=>{e.preventDefault();onSave(_objectSpread(_objectSpread({},formData),{},{amount:parseFloat(formData.amount),clientId:client.id,clientName:client.name}));};return/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onClose:onClose,title:subscription?'Editar Assinatura':\"Nova Assinatura para \".concat(client===null||client===void 0?void 0:client.name),children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Valor (R$)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amount\",value:formData.amount,onChange:handleChange,step:\"0.01\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Dia da Cobran\\xE7a\"}),/*#__PURE__*/_jsx(\"select\",{name:\"dayOfWeek\",value:formData.dayOfWeek,onChange:handleChange,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm\",children:Object.entries(DAYS_OF_WEEK_LABELS).map(_ref2=>{let[key,label]=_ref2;return/*#__PURE__*/_jsx(\"option\",{value:key,children:label},key);})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Data de In\\xEDcio\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",value:formData.startDate,onChange:handleChange,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:formData.status,onChange:handleChange,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:SUBSCRIPTION_STATUS.ACTIVE,children:\"Ativa\"}),/*#__PURE__*/_jsx(\"option\",{value:SUBSCRIPTION_STATUS.INACTIVE,children:\"Inativa\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-4 flex justify-end space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",children:\"Salvar\"})]})]})});};export default SubscriptionModal;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}