{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LEVI\\\\Desktop\\\\Gestao-de-cobrancas\\\\src\\\\components\\\\clients\\\\ClientsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useFirestore } from '../../hooks/useFirestore';\nimport ClientTable from './ClientTable';\nimport ClientModal from './ClientModal';\nimport SubscriptionModal from './SubscriptionModal';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ClientsPage = () => {\n  _s();\n  const {\n    clients,\n    subscriptions,\n    loading\n  } = useFirestore();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isClientModalOpen, setIsClientModalOpen] = useState(false);\n  const [isSubscriptionModalOpen, setIsSubscriptionModalOpen] = useState(false);\n  const [selectedClient, setSelectedClient] = useState(null);\n  const [selectedSubscription, setSelectedSubscription] = useState(null);\n\n  // Filtrar clientes por termo de busca\n  const filteredClients = clients.filter(client => client.name.toLowerCase().includes(searchTerm.toLowerCase()) || client.email.toLowerCase().includes(searchTerm.toLowerCase()) || client.phone.includes(searchTerm));\n  const handleEditClient = client => {\n    setSelectedClient(client);\n    setIsClientModalOpen(true);\n  };\n  const handleNewClient = () => {\n    setSelectedClient(null);\n    setIsClientModalOpen(true);\n  };\n  const handleNewSubscription = client => {\n    setSelectedClient(client);\n    setSelectedSubscription(null);\n    setIsSubscriptionModalOpen(true);\n  };\n  const handleEditSubscription = (subscription, client) => {\n    setSelectedClient(client);\n    setSelectedSubscription(subscription);\n    setIsSubscriptionModalOpen(true);\n  };\n  const closeModals = () => {\n    setIsClientModalOpen(false);\n    setIsSubscriptionModalOpen(false);\n    setSelectedClient(null);\n    setSelectedSubscription(null);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"clients-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clients-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"clients-title\",\n          children: \"Clientes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"clients-actions\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleNewClient,\n            className: \"btn btn-primary\",\n            children: \"\\uD83D\\uDC64 Novo Cliente\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clients-search\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Buscar por nome, email ou telefone...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"form-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#6b7280',\n            fontSize: '0.875rem'\n          },\n          children: [filteredClients.length, \" de \", clients.length, \" clientes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ClientTable, {\n        clients: filteredClients,\n        subscriptions: subscriptions,\n        onEditClient: handleEditClient,\n        onNewSubscription: handleNewSubscription,\n        onEditSubscription: handleEditSubscription\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), isClientModalOpen && /*#__PURE__*/_jsxDEV(ClientModal, {\n        client: selectedClient,\n        onClose: closeModals\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), isSubscriptionModalOpen && /*#__PURE__*/_jsxDEV(SubscriptionModal, {\n        client: selectedClient,\n        subscription: selectedSubscription,\n        onClose: closeModals\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(ClientsPage, \"JQb+wiC8RHWXXTEe/Rf0FPj6cnA=\", false, function () {\n  return [useFirestore];\n});\n_c = ClientsPage;\nexport default ClientsPage;\nvar _c;\n$RefreshReg$(_c, \"ClientsPage\");","map":{"version":3,"names":["React","useState","useFirestore","ClientTable","ClientModal","SubscriptionModal","LoadingSpinner","jsxDEV","_jsxDEV","ClientsPage","_s","clients","subscriptions","loading","searchTerm","setSearchTerm","isClientModalOpen","setIsClientModalOpen","isSubscriptionModalOpen","setIsSubscriptionModalOpen","selectedClient","setSelectedClient","selectedSubscription","setSelectedSubscription","filteredClients","filter","client","name","toLowerCase","includes","email","phone","handleEditClient","handleNewClient","handleNewSubscription","handleEditSubscription","subscription","closeModals","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onClick","type","placeholder","value","onChange","e","target","style","color","fontSize","length","onEditClient","onNewSubscription","onEditSubscription","onClose","_c","$RefreshReg$"],"sources":["C:/Users/LEVI/Desktop/Gestao-de-cobrancas/src/components/clients/ClientsPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useFirestore } from '../../hooks/useFirestore';\r\nimport ClientTable from './ClientTable';\r\nimport ClientModal from './ClientModal';\r\nimport SubscriptionModal from './SubscriptionModal';\r\nimport LoadingSpinner from '../common/LoadingSpinner';\r\n\r\nconst ClientsPage = () => {\r\n  const { clients, subscriptions, loading } = useFirestore();\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [isClientModalOpen, setIsClientModalOpen] = useState(false);\r\n  const [isSubscriptionModalOpen, setIsSubscriptionModalOpen] = useState(false);\r\n  const [selectedClient, setSelectedClient] = useState(null);\r\n  const [selectedSubscription, setSelectedSubscription] = useState(null);\r\n\r\n  // Filtrar clientes por termo de busca\r\n  const filteredClients = clients.filter(client =>\r\n    client.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    client.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    client.phone.includes(searchTerm)\r\n  );\r\n\r\n  const handleEditClient = (client) => {\r\n    setSelectedClient(client);\r\n    setIsClientModalOpen(true);\r\n  };\r\n\r\n  const handleNewClient = () => {\r\n    setSelectedClient(null);\r\n    setIsClientModalOpen(true);\r\n  };\r\n\r\n  const handleNewSubscription = (client) => {\r\n    setSelectedClient(client);\r\n    setSelectedSubscription(null);\r\n    setIsSubscriptionModalOpen(true);\r\n  };\r\n\r\n  const handleEditSubscription = (subscription, client) => {\r\n    setSelectedClient(client);\r\n    setSelectedSubscription(subscription);\r\n    setIsSubscriptionModalOpen(true);\r\n  };\r\n\r\n  const closeModals = () => {\r\n    setIsClientModalOpen(false);\r\n    setIsSubscriptionModalOpen(false);\r\n    setSelectedClient(null);\r\n    setSelectedSubscription(null);\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"clients-page\">\r\n      <div className=\"container\">\r\n        <div className=\"clients-header\">\r\n          <h1 className=\"clients-title\">Clientes</h1>\r\n          <div className=\"clients-actions\">\r\n            <button \r\n              onClick={handleNewClient}\r\n              className=\"btn btn-primary\"\r\n            >\r\n              ðŸ‘¤ Novo Cliente\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"clients-search\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Buscar por nome, email ou telefone...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"form-input\"\r\n          />\r\n          <div style={{ color: '#6b7280', fontSize: '0.875rem' }}>\r\n            {filteredClients.length} de {clients.length} clientes\r\n          </div>\r\n        </div>\r\n\r\n        <ClientTable \r\n          clients={filteredClients}\r\n          subscriptions={subscriptions}\r\n          onEditClient={handleEditClient}\r\n          onNewSubscription={handleNewSubscription}\r\n          onEditSubscription={handleEditSubscription}\r\n        />\r\n\r\n        {isClientModalOpen && (\r\n          <ClientModal\r\n            client={selectedClient}\r\n            onClose={closeModals}\r\n          />\r\n        )}\r\n\r\n        {isSubscriptionModalOpen && (\r\n          <SubscriptionModal\r\n            client={selectedClient}\r\n            subscription={selectedSubscription}\r\n            onClose={closeModals}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}